<!-- Modal Form -->
<% if @post != nil %>
  <%= simple_form_for @post, :html => { :class => 'form-horizontal' } do |f| %>
    <div id="responsive" class="modal container hide fade" tabindex="-1">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3>Tambah Cerita</h3>
    </div>
    <div class="modal-body">
      <%= f.input :title %>
      <%= f.input :description, :as => :ckeditor, :input_html => { :ckeditor => {:toolbar => 'mini'} } %>
      <%= f.input :user_id, :as => :hidden, :input_html => { :value => current_user.id } %>
      <% if @postable != nil %>
        <%= f.input :postable_id, :as => :hidden, :input_html => { :value => @postable.id } %>
        <%= f.input :postable_type, :as => :hidden, :input_html => { :value => @postable.class } %>
        <%= f.input :latitude, :as => :hidden, :input_html => { :value => @postable.latitude } %>
        <%= f.input :longitude, :as => :hidden, :input_html => { :value => @postable.longitude } %>
      <% end %>
      <%= f.input :budget %>
      <%= f.input :dimension %>
      <%= f.input :beneficiary %>
      <%= f.input :picture %>
    </div>
    <div class="modal-footer">
      <%= f.submit "Kirim", {:class => "btn"} %>
    </div>
  </div>
  <% end %>
<% else %>
  <%= simple_form_for Post.new, :html => { :class => 'form-horizontal' } do |f| %>
    <div id="responsive" class="modal container hide fade" tabindex="-1">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3>Tambah Cerita</h3>
    </div>
    <div class="modal-body">
      <%= f.input :title %>
      <%= f.input :description, :as => :ckeditor, :input_html => { :ckeditor => {:toolbar => 'mini'} } %>
      <%= f.input :user_id, :as => :hidden, :input_html => { :value => current_user.id } %>
      <% if @postable != nil %>
        <%= f.input :postable_id, :as => :hidden, :input_html => { :value => @postable.id } %>
        <%= f.input :postable_type, :as => :hidden, :input_html => { :value => @postable.class } %>
        <%= f.input :latitude, :as => :hidden, :input_html => { :value => @postable.latitude } %>
        <%= f.input :longitude, :as => :hidden, :input_html => { :value => @postable.longitude } %>
      <% end %>
      <%= f.input :budget %>
      <%= f.input :dimension %>
      <%= f.input :beneficiary %>
      <%= f.input :picture %>
      <div class="control-group">
        <label class="control-label">Lokasi</label>
        <div class="controls">
          <%= select_tag "province", options_from_collection_for_select(Province.order(:name), "id", "name"), :prompt => "-Pilih propinsi-" %>
          <%= select_tag "district", option_groups_from_collection_for_select(Province.order(:name), :districts, :name, :id, :name), :prompt => "-Pilih kabupaten-" %>
          <%= select_tag "subdistrict", option_groups_from_collection_for_select(District.order(:name), :subdistricts, :name, :id, :name, :prompt => "-Pilih kecamatan-") %>
        </div>
      </div>
      <div class="control-group activity">
        <label class="control-label">Sub Proyek</label>
        <div class="controls">
          <%= select_tag "activity", option_groups_from_collection_for_select(Subdistrict.order(:name), :activities, :name, :id, :name, include_blank: true) %>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <%= f.submit "Kirim", {:class => "btn"} %>
    </div>
  </div>
<% end %>
<% end %>
<!-- End of Modal Form -->
